/*==============================================================================
 * FILE:  join_bin.c
 *
 * PURPOSE:  Joins together multiple .bin files generated by an MPI job into one
 *   file for visualization and analysis.  The code is not optimal and can be
 *   a memory hog, as it loads all data into memory before writing out the 
 *   joined file.
 *
 * NOTE:  The user *must* specify by hand what the Real data type is!  Do this
 *   by modifying the typedef statement in join_bin.c
 *
 * COMPILE USING:  gcc -Wall -W -o join_bin join_bin.c -lm
 *
 * USAGE:  join_bin -o <outfile.bin> infile1.bin infile2.bin ...
 *
 * WRITTEN BY:  Aaron Skinner, August 2010, after Tom Gardiner, November 2004
 *============================================================================*/

/*==============================================================================
 * FILE:  join_bin.sh
 *
 * PURPOSE:  Automatically call join_bin on a set of Athena .bin files generated
 *   by an MPI job by constructing the filenames explicitly from an input 
 *   basename, and the starting and ending cylces to be stitched together.
 *   The joined output file may be given a different basename.  
 *
 * USAGE:  join_bin.sh -o <<OUTBASENAME>> <INBASENAME> <STARTCYCLE> <ENDCYCLE>
 *
 * EXAMPLE:  To join cycles 0 through 2 of an output dump from an MPI run on 4
 *   processors of the field_loop.c problem, which consists of the 12 files
 *
 *   id0/Loop.0000.bin,     id0/Loop.0001.bin,     id0/Loop.0002.bin,
 *   id1/Loop-id1.0000.bin, id1/Loop-id1.0001.bin, id1/Loop-id1.0002.bin,
 *   id2/Loop-id2.0000.bin, id2/Loop-id2.0001.bin, id2/Loop-id2.0002.bin,
 *   id3/Loop-id3.0000.bin, id3/Loop-id3.0001.bin, id3/Loop-id3.0002.bin,
 *
 *   into the 3 files
 *
 *   Loop_joined.0000.bin, Loop_joined.0001.bin, Loop_joined.0002.bin,
 *
 *   the usage is:  join_bin.sh -o Loop_joined Loop 0 3
 *
 * NOTES:  1) The .bin files from processor 0 do not contain -id0, as this 
 *   is not part of the basename.  2) It is not necessary to specify the 
 *   number of processors--this is determined automatically.  3) The separate
 *   dump files from each processor reside in subdirectories, but the joined
 *   files are written to the parent directory, which is also where the script
 *   must be executed.  4) A path to the join_bin.c file *must* be specified
 *   in the join_bin.sh script!
 *
 * WRITTEN BY: Aaron Skinner, May 2011
 *============================================================================*/
